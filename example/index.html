<!DOCTYPE html>

<html>

<head>
	<meta charset="UTF-8"> 
	<style type="text/css">

		/* INFO Some other CSS for the look */
		
		body {
			background: #999;
			margin: 0em;
		}

		pre {
			margin: 1em;
		}

		h1 {
			font-size: 2em;
			margin: 0.5em;
		}

		div, p {
			margin: 1em;
			overflow: hidden;
		}

		.Resolve {
			background: #fdd;
		}
		.Module {
			background: #dfd;
		}
		.Bundle {
			background: #ddf;
		}
		.Cache {
			background: #ffd;
		}



	</style>
	<script type="text/javascript" src="../index.js"></script>
	<title>Pixels vs. Bytes | Example: Node.js require() for your browser</title>
</head>

<body class="Grid">
	<div class="Resolve">
		<h1>URL resolvings</h1>
		<pre><script type="text/javascript">
		var mname = '/module.js';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = './module.js';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname))); 
		mname = '../module.js';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = 'module.js';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname))); 
		mname = './module.json';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = './module';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));

		mname = './module//foo';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = './module.js//foo';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = './bar/baz/module.js//foo';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = 'module//foo';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = 'module.js//foo';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = 'bar/baz/.//foo';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = './/.//bar//foo';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		</script></pre>
	</div>
	<div class="Module">
		<h1>JavaScript module (asynchronous)</h1>
		<pre id="asyncModulePre"><script type="text/javascript">
		require('./module.js', function(mod) {
			var node = document.getElementById('asyncModulePre');
			node.innerHTML += mod.greet()+'\n';
		});
		</script></pre>
	</div>
	<div class="Module">
		<h1>JavaScript module (synchronous)</h1>
		<pre><script type="text/javascript">
		var mod = require('./module.js');
		document.writeln(mod.greet());
		mod.worldstr = 'module';
		document.write(mod.greet());
		</script></pre>
	</div>
	<div class="Bundle">
		<h1>JavaScript bundle (asynchronous)</h1>
		<pre id="asyncBundlePre"><script type="text/javascript">
		require('./bundle.js//hello', function(mod) {
			var node = document.getElementById('asyncBundlePre');
			node.innerHTML += mod.greet()+'\n';
		});
		require('./bundle.js//world', function(mod) {
			var node = document.getElementById('asyncBundlePre');
			node.innerHTML += mod.greet()+'\n';
		});
		</script></pre>
	</div>
	<div class="Bundle">
		<h1>JavaScript bundle (synchronous)</h1>
		<pre><script type="text/javascript">
		var hello = require('./bundle.js//hello');
		document.writeln(hello.greet());
		hello.hellostr = 'hej';
		document.writeln(hello.greet());
		var world = require('./bundle.js//world');
		document.writeln(world.greet());
		world.worldstr = 'verden';
		document.writeln(world.greet());
		</script></pre>
	</div>
	<div class="Bundle">
		<h1>JavaScript bundle (cached via id)</h1>
		<pre><script type="text/javascript">
		var hello = require('/PixelsVsBytes/Repositories/Jay/git/example/bundle/hello');
		document.writeln(hello.greet());
		var world = require('/PixelsVsBytes/Repositories/Jay/git/example/bundle/world');
		document.writeln(world.greet());
		</script></pre>
	</div>
	<div class="Cache">
		<h1>Cached modules</h1>
		<pre><script type="text/javascript">
		for (x in require.cache)
			document.writeln('require.cache[\''+x+'\']');
		</script></pre>
	</div>
</body>

</html>

