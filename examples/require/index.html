<!DOCTYPE html>

<html>

<head>
	<meta charset="UTF-8"> 
	<style type="text/css">
		body {
			background: #999;
			color: #000;
			margin: 0em;
		}

		div {
			margin: 1em;
			overflow: hidden;
		}

		p, pre {
			margin: 1em;
			overflow: auto;
		}

		h1 {
			font-size: 2em;
			margin: 0.5em;
		}

		.Red {
			background: #fdd;
		}
		.Green {
			background: #dfd;
		}
		.Blue {
			background: #ddf;
		}
		.Yellow {
			background: #ffd;
		}
	</style>
	<script type="text/javascript" src="../../base/require.js"></script>
	<title>Smoothie Example: require.js</title>
</head>

<body>
	<div class="Red">
		<h1>Identifier => Module</h1>
		<pre><script type="text/javascript">
		mname = 'module';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = './module';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = '../module';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));

		mname = 'module.js';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname))); 
		var mname = '/module.js';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = './module.js';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname))); 
		mname = '../module.js';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));

		mname = '../foo/bar/./././baz///moo/maa/../../../mee/gee';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = 'foo/bar//baz///moo////maa/mee';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		mname = '/home/torben/PixelsVsBytes/Repositories///Jay/../../..';
		document.writeln('require.resolve('+mname+') -> '+JSON.stringify(require.resolve(mname)));
		</script></pre>
	</div>
	<div class="Green">
		<h1>Module (asynchronous)</h1>
		<pre id="asyncModulePre"><script type="text/javascript">
		require('./module.js', function(mod) {
			var node = document.getElementById('asyncModulePre');
			node.innerHTML += mod.greet()+'\n';
		});
		</script></pre>
	</div>
	<div class="Green">
		<h1>Module (synchronous)</h1>
		<pre><script type="text/javascript">
		var mod = require('module');
		document.writeln(mod.greet());
		mod.greetstr = 'HELLO WORLD';
		document.write(mod.greet());
		</script></pre>
	</div>
	<div class="Green">
		<h1>Module (cached)</h1>
		<pre><script type="text/javascript">
		var mod = require('module');
		document.writeln(mod.greet());
		</script></pre>
	</div>
	<div class="Green">
		<h1>Module (synchronous, relative)</h1>
		<pre><script type="text/javascript">
		var main = require('./relative/main');
		document.writeln(main.greet());
		</script></pre>
	</div>
	<div class="Blue">
		<h1>Bundle (asynchronous)</h1>
		<pre id="asyncBundlePre"><script type="text/javascript">
		require('bundle');
		require('module1', function(mod) {
			var node = document.getElementById('asyncBundlePre');
			node.innerHTML += mod.greet()+'\n';
		});
		require('module2', function(mod) {
			var node = document.getElementById('asyncBundlePre');
			node.innerHTML += mod.greet()+'\n';
		});
		</script></pre>
	</div>
	<div class="Blue">
		<h1>Bundle (synchronous)</h1>
		<pre><script type="text/javascript">
		var mod1 = require('module1');
		document.writeln(mod1.greet());
		mod1.hellostr = 'HELLO';
		document.writeln(mod1.greet());
		var mod2 = require('module2');
		document.writeln(mod2.greet());
		mod2.worldstr = 'WORLD';
		document.writeln(mod2.greet());
		</script></pre>
	</div>
	<div class="Blue">
		<h1>Bundle (cached)</h1>
		<pre><script type="text/javascript">
		var mod1 = require('module1');
		document.writeln(mod1.greet());
		var mod2 = require('module2');
		document.writeln(mod2.greet());
		</script></pre>
	</div>
	<div class="Blue">
		<h1>Bundle (synchronous, relative)</h1>
		<pre><script type="text/javascript">
		require('relative/water');
		var fish = require('fish');
		document.writeln(fish.greet());
		var shark = require('relative/shark');
		document.writeln(shark.greet());
		var whale = require('whale');
		document.writeln(whale.greet());
		var dolphin = require('ocean/dolphin');
		document.writeln(dolphin.greet());
		</script></pre>
	</div>
</body>

</html>

